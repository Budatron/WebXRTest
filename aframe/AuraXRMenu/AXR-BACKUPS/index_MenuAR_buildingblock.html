<html>
	<head>
  		<title>AuraXR - Restaurant Menu (Pattern)</title>
		<script src="https://aframe.io/aframe/dist/aframe-master.js"></script>
		<script src="../../build/aframe-ar.js"></script>
		<script src="../../../A-FrameAddons/js/aframe-extras.min.js"></script>
		<script>
		//master mas reciente de aframe: https://aframe.io/aframe/dist/aframe-master.js
		//ultima version estable aframe: https://aframe.io/releases/1.2.0/aframe.min.js
		
		AFRAME.registerComponent('jitterix', {
    	init: function () {
    	// Code here.
      	var canvasEl = document.getElementById(this.data.cid);
		this.renderer = new THREE.WebGLRenderer( { preserveDrawingBuffer: true, canvas: canvasEl } );
		this.renderer= new THREE.PerspectiveCamera();
    	}
  		});
		</script>
		<script>function myFunction(){
		var plato1 = document.querySelector('#plato');
		//plato1.addEventListener('click', myFunction() {
		plato1.object3D.visible = false;}
		</script>
		<script>
			window.onload = function () {
			  	var entradasel = document.querySelector('#entradas').addEventListener("click", function () {
				var platotest = document.querySelector('#plato');  
					platotest.setAttribute('gltf-model', 'https://mrbside.github.io/WebXRTest/tostada.glb')
					entradasel.removeClass('is-active');
					entradasel.addClass('is-active');
				});
				var ensaladasel = document.querySelector('#ensaladas').addEventListener("click", function () {
					ensaladasel.removeClass('is-active');
					ensaladasel.addClass('is-active');
				});
				var guisadosel = document.querySelector('#guisados').addEventListener("click", function () {
					
					guisadosel.addClass('is-active');
				});
			};
		  </script>
	</head>
	<style>		
		.mobile-app-toggle {
		position: absolute;
		bottom: 0;
		left: 0;
		width: 100%;
		display: flex;
		justify-content: center;
		align-items: center;
		border: 1px solid #1779ba;
		border-radius: 0.625rem;
		overflow: visible;
		margin-bottom: 1rem;
		z-index: 10;
		}

		.mobile-app-toggle .button {
		background: #fefefe;
		color: #1779ba;
		margin-bottom: 0;
		-webkit-flex: 1 0 0;
			-ms-flex: 1 0 0px;
				flex: 1 0 0;
		}

		.mobile-app-toggle .button:nth-child(n+1) {
		border-left: 1px solid #1779ba;
		}

		.mobile-app-toggle .button.is-active {
		background: #1779ba;
		color: #fefefe;
		}
	  </style>
	<body style='margin : 0px; overflow: hidden;'> 
		<div class="mobile-app-toggle" data-mobile-app-toggle>
			<button id="entradas" class="button is-active">Entradas</button>
			<button id="ensaladas" class="button">Ensaladas</button>
			<button id="guisados" class="button">Guisados</button>
		</div>
		<a-scene id="escena" vr-mode-ui="enabled: false" embedded arjs always-fullscreen renderer="precision: high; antialias: false; logarithmicDepthBuffer:true">
			<a-assets>
			</a-assets>
			<a-marker id="marcador" type='pattern' url='pattern-AuraMarker.patt'>
				<a-plane id="planosombras" position="0 -1.22 0" height="2000" width="2000" rotation="-90 0 0" material="color: black; opacity: 0.25" transparent="true" shadow></a-plane>
				<a-entity 
				id="chef"
            	position="-4.138 -1.10 -4.797"
    		    rotation="0 31.0 0"
            	scale="0.02 0.02 0.02"
            	gltf-model="https://mrbside.github.io/WebXRTest/chef.gltf"
            	animation-mixer="clip: clip; loop:repeat; repetitions:infinity"
            	shadow="receive: true; cast: true"
				>
            	</a-entity>
				<a-entity 
				id="plato"
            	position="0 0 0"
            	rotation="0 0 0"
            	scale="0.1 0.1 0.1"
            	gltf-model="https://mrbside.github.io/WebXRTest/toast.glb"
            	shadow="receive: true; cast: true"
				>
            	</a-entity>
			</a-marker>
			<a-entity id="camera" camera="far:10000.00; fov:80.00; near:0.005">
				<a-entity id="caster" cursor="rayOrigin: mouse; fuse: true" raycaster="objects: .raycastable; origin: 0 0 0; direction:0 0 -1">
				</a-entity>
			</a-entity>
			<a-entity id="luz" light="type: ambient; color: #DDD; groundColor: #DDD; intensity: 1.3; castShadow:true" position="0 2 0">	
			</a-entity>
		</a-scene>
	</body>
</html>
